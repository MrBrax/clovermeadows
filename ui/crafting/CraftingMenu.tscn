[gd_scene load_steps=19 format=3 uid="uid://cxv0p6adaon7d"]

[ext_resource type="Script" path="res://Code/Ui/CraftMenu.cs" id="1_ihhjt"]
[ext_resource type="PackedScene" uid="uid://bjlj2o5qq7uvl" path="res://ui/crafting/CraftingMenuRecipeButton.tscn" id="2_omta1"]
[ext_resource type="AudioStream" uid="uid://ope7kassu1f0" path="res://sound/inventory/inventory_toggle.ogg" id="3_2gh4l"]
[ext_resource type="StyleBox" uid="uid://jrsfgxjecsq0" path="res://ui/rects/panel.tres" id="3_h4uiw"]
[ext_resource type="StyleBox" uid="uid://1sk65ctdabv4" path="res://ui/rects/panel_wood.tres" id="4_j08dx"]
[ext_resource type="Texture2D" uid="uid://bovfsl32e7otq" path="res://icons/sort.png" id="5_u2obs"]
[ext_resource type="FontFile" uid="uid://br6vlq76im81j" path="res://ui/fonts/Itim-Regular.ttf" id="6_8yl3d"]
[ext_resource type="StyleBox" uid="uid://d6dul2m5eml4" path="res://ui/rects/panel_metal.tres" id="7_3dlcr"]
[ext_resource type="Script" path="res://Code/Ui/XButton.cs" id="8_vcwpu"]
[ext_resource type="AudioStream" uid="uid://ddb2553cik7gq" path="res://sound/effects/208111__planman__poof-of-smoke.wav" id="9_qwq33"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_mrimq"]
content_margin_left = 15.0
content_margin_top = 10.0
content_margin_right = 15.0
content_margin_bottom = 10.0
bg_color = Color(0.580392, 0.686275, 0.776471, 1)
border_width_left = 4
border_width_top = 4
border_width_right = 4
border_width_bottom = 4
border_color = Color(0.299938, 0.397154, 0.478587, 1)
corner_radius_top_left = 10
corner_radius_top_right = 10
corner_radius_bottom_right = 10
corner_radius_bottom_left = 10

[sub_resource type="ButtonGroup" id="ButtonGroup_2muap"]

[sub_resource type="ButtonGroup" id="ButtonGroup_h0sxw"]

[sub_resource type="ButtonGroup" id="ButtonGroup_c4sr8"]

[sub_resource type="ViewportTexture" id="ViewportTexture_lbqoj"]
viewport_path = NodePath("SubViewport")

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_ao762"]
bg_color = Color(0.8857, 0.656107, 0.421526, 1)

[sub_resource type="InputEventAction" id="InputEventAction_k07xb"]
action = &"Cancel"

[sub_resource type="Shortcut" id="Shortcut_8esf8"]
events = [SubResource("InputEventAction_k07xb")]

[node name="CraftingMenu" type="Control" node_paths=PackedStringArray("CraftRecipesContainer", "SearchLineEdit", "ItemNameLabel", "ItemDescriptionLabel", "IngredientsContainer", "PreviewModelContainer", "CraftButton", "CameraPivot")]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 1
script = ExtResource("1_ihhjt")
CraftRecipesContainer = NodePath("PanelContainer/HBoxContainer/VBoxContainer2/ScrollContainer/HFlowContainer")
CraftRecipeButtonScene = ExtResource("2_omta1")
SearchLineEdit = NodePath("PanelContainer/HBoxContainer/VBoxContainer2/HBoxContainer/LineEdit")
ItemNameLabel = NodePath("PanelContainer/HBoxContainer/VBoxContainer/PanelContainer/VBoxContainer/ItemNameLabel")
ItemDescriptionLabel = NodePath("PanelContainer/HBoxContainer/VBoxContainer/PanelContainer/VBoxContainer/ScrollContainer/ItemDescriptionLabel")
IngredientsContainer = NodePath("PanelContainer/HBoxContainer/VBoxContainer/PanelContainer/VBoxContainer/ScrollContainer2/IngredientContainer")
PreviewModelContainer = NodePath("SubViewport/Node3D")
CraftButton = NodePath("PanelContainer/HBoxContainer/VBoxContainer/PanelContainer/VBoxContainer/HBoxContainer/BuyButton")
CameraPivot = NodePath("SubViewport/CameraPivot")
CraftSound = ExtResource("3_2gh4l")

[node name="PanelContainer" type="PanelContainer" parent="."]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -400.0
offset_top = -300.0
offset_right = 400.0
offset_bottom = 300.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 1
theme_override_styles/panel = ExtResource("3_h4uiw")

[node name="HBoxContainer" type="HBoxContainer" parent="PanelContainer"]
layout_mode = 2

[node name="VBoxContainer2" type="VBoxContainer" parent="PanelContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3

[node name="HBoxContainer" type="HBoxContainer" parent="PanelContainer/HBoxContainer/VBoxContainer2"]
layout_mode = 2
alignment = 2

[node name="LineEdit" type="LineEdit" parent="PanelContainer/HBoxContainer/VBoxContainer2/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_colors/font_placeholder_color = Color(0.769746, 0.833347, 0.888315, 1)
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_fonts/font = ExtResource("6_8yl3d")
theme_override_font_sizes/font_size = 22
theme_override_styles/normal = SubResource("StyleBoxFlat_mrimq")
placeholder_text = "Search..."

[node name="MenuButton" type="MenuButton" parent="PanelContainer/HBoxContainer/VBoxContainer2/HBoxContainer"]
visible = false
layout_mode = 2
theme_override_styles/focus = ExtResource("4_j08dx")
theme_override_styles/disabled = ExtResource("4_j08dx")
theme_override_styles/hover = ExtResource("4_j08dx")
theme_override_styles/pressed = ExtResource("4_j08dx")
theme_override_styles/normal = ExtResource("4_j08dx")
text = "Sort"
icon = ExtResource("5_u2obs")
flat = false
expand_icon = true

[node name="ScrollContainer" type="ScrollContainer" parent="PanelContainer/HBoxContainer/VBoxContainer2"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="HFlowContainer" type="VBoxContainer" parent="PanelContainer/HBoxContainer/VBoxContainer2/ScrollContainer"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="CheckBox" parent="PanelContainer/HBoxContainer/VBoxContainer2/ScrollContainer/HFlowContainer" instance=ExtResource("2_omta1")]
layout_mode = 2
button_group = SubResource("ButtonGroup_2muap")

[node name="CheckBox2" parent="PanelContainer/HBoxContainer/VBoxContainer2/ScrollContainer/HFlowContainer" instance=ExtResource("2_omta1")]
layout_mode = 2
button_group = SubResource("ButtonGroup_h0sxw")

[node name="CheckBox3" parent="PanelContainer/HBoxContainer/VBoxContainer2/ScrollContainer/HFlowContainer" instance=ExtResource("2_omta1")]
layout_mode = 2
button_group = SubResource("ButtonGroup_c4sr8")

[node name="Label" type="Label" parent="PanelContainer/HBoxContainer/VBoxContainer2/ScrollContainer/HFlowContainer"]
modulate = Color(0, 0, 0, 1)
layout_mode = 2
text = "No items found"
horizontal_alignment = 1
vertical_alignment = 1

[node name="VBoxContainer" type="VBoxContainer" parent="PanelContainer/HBoxContainer"]
layout_mode = 2

[node name="PanelContainer" type="PanelContainer" parent="PanelContainer/HBoxContainer/VBoxContainer"]
custom_minimum_size = Vector2(300, 0)
layout_mode = 2
size_flags_vertical = 3
theme_override_styles/panel = ExtResource("4_j08dx")

[node name="VBoxContainer" type="VBoxContainer" parent="PanelContainer/HBoxContainer/VBoxContainer/PanelContainer"]
layout_mode = 2

[node name="ItemNameLabel" type="Label" parent="PanelContainer/HBoxContainer/VBoxContainer/PanelContainer/VBoxContainer"]
layout_mode = 2
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_fonts/font = ExtResource("6_8yl3d")
theme_override_font_sizes/font_size = 30
text = "Item Name Very Long"

[node name="TextureRect" type="TextureRect" parent="PanelContainer/HBoxContainer/VBoxContainer/PanelContainer/VBoxContainer"]
visible = false
custom_minimum_size = Vector2(0, 200)
layout_mode = 2
texture = SubResource("ViewportTexture_lbqoj")
expand_mode = 3

[node name="ScrollContainer2" type="ScrollContainer" parent="PanelContainer/HBoxContainer/VBoxContainer/PanelContainer/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3

[node name="IngredientContainer" type="VBoxContainer" parent="PanelContainer/HBoxContainer/VBoxContainer/PanelContainer/VBoxContainer/ScrollContainer2"]
layout_mode = 2

[node name="Label" type="Label" parent="PanelContainer/HBoxContainer/VBoxContainer/PanelContainer/VBoxContainer/ScrollContainer2/IngredientContainer"]
layout_mode = 2
text = "Ingredient"

[node name="ScrollContainer" type="ScrollContainer" parent="PanelContainer/HBoxContainer/VBoxContainer/PanelContainer/VBoxContainer"]
layout_mode = 2
size_flags_vertical = 3

[node name="ItemDescriptionLabel" type="Label" parent="PanelContainer/HBoxContainer/VBoxContainer/PanelContainer/VBoxContainer/ScrollContainer"]
custom_minimum_size = Vector2(100, 100)
layout_mode = 2
size_flags_horizontal = 3
theme_override_colors/font_shadow_color = Color(0, 0, 0, 0.235294)
theme_override_fonts/font = ExtResource("6_8yl3d")
theme_override_font_sizes/font_size = 20
text = "Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."
autowrap_mode = 3

[node name="HSeparator" type="HSeparator" parent="PanelContainer/HBoxContainer/VBoxContainer/PanelContainer/VBoxContainer"]
layout_mode = 2
theme_override_constants/separation = 5
theme_override_styles/separator = SubResource("StyleBoxFlat_ao762")

[node name="HBoxContainer" type="HBoxContainer" parent="PanelContainer/HBoxContainer/VBoxContainer/PanelContainer/VBoxContainer"]
layout_mode = 2

[node name="BuyButton" type="Button" parent="PanelContainer/HBoxContainer/VBoxContainer/PanelContainer/VBoxContainer/HBoxContainer"]
layout_mode = 2
size_flags_horizontal = 3
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_outline_color = Color(0.369245, 0.478292, 0.569875, 1)
theme_override_constants/outline_size = 10
theme_override_fonts/font = ExtResource("6_8yl3d")
theme_override_font_sizes/font_size = 20
theme_override_styles/normal = ExtResource("7_3dlcr")
text = "Craft"
script = ExtResource("8_vcwpu")

[node name="CloseButton" type="Button" parent="PanelContainer/HBoxContainer/VBoxContainer"]
layout_mode = 2
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_fonts/font = ExtResource("6_8yl3d")
theme_override_font_sizes/font_size = 30
theme_override_styles/pressed = ExtResource("7_3dlcr")
theme_override_styles/normal = ExtResource("7_3dlcr")
shortcut = SubResource("Shortcut_8esf8")
text = "Close"
script = ExtResource("8_vcwpu")

[node name="ItemSold" type="AudioStreamPlayer" parent="."]
stream = ExtResource("9_qwq33")

[node name="SubViewport" type="SubViewport" parent="."]
transparent_bg = true
gui_disable_input = true
canvas_cull_mask = 4293951488

[node name="Node3D" type="Node3D" parent="SubViewport"]

[node name="CameraPivot" type="Marker3D" parent="SubViewport"]

[node name="Camera3D" type="Camera3D" parent="SubViewport/CameraPivot"]
transform = Transform3D(-4.37114e-08, 0.642788, -0.766044, 0, 0.766044, 0.642788, 1, 2.80971e-08, -3.34849e-08, -1.585, 1.318, 0)
cull_mask = 32768
fov = 40.0

[node name="SpotLight3D" type="SpotLight3D" parent="SubViewport"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 2.68703, 0)
layers = 32768
light_energy = 5.0

[node name="SpotLight3D2" type="SpotLight3D" parent="SubViewport"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, -2.68013, 0)
layers = 32768
light_energy = 5.0

[node name="SpotLight3D3" type="SpotLight3D" parent="SubViewport"]
transform = Transform3D(-0.571358, -3.5874e-08, -0.820701, -0.820701, 2.49749e-08, 0.571358, 0, 1, -4.37114e-08, -2.34461, 2.08004, 0)
layers = 32768
light_energy = 5.0

[connection signal="pressed" from="PanelContainer/HBoxContainer/VBoxContainer/PanelContainer/VBoxContainer/HBoxContainer/BuyButton" to="." method="CraftCurrentRecipe"]
[connection signal="pressed" from="PanelContainer/HBoxContainer/VBoxContainer/CloseButton" to="." method="Close"]
